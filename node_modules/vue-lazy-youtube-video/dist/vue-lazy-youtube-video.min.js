!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],e):e((t=t||self).VueLazyYoutubeVideo={},t.Vue)}(this,(function(t,e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var i=function(){return(i=Object.assign||function(t){for(var e,i=1,a=arguments.length;i<a;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function a(t,e,i){return void 0===i&&(i=0),t.indexOf(e,i)===i}var n=e.extend({name:"VueLazyYoutubeVideo",props:{src:{type:String,required:!0,validator:function(t){return a(t,"https://www.youtube.com/embed/")||a(t,"https://www.youtube-nocookie.com/embed/")}},alt:{type:String,default:"Video thumbnail"},buttonLabel:{type:String,default:"Play video"},aspectRatio:{type:String,default:"16:9",validator:function(t){return/^\d+:\d+$/.test(t)}},previewImageSize:{type:String,default:"maxresdefault",validator:function(t){return-1!==["default","mqdefault","sddefault","hqdefault","maxresdefault"].indexOf(t)}},thumbnail:{type:Object,validator:function(t){return"jpg"in t&&"webp"in t}},iframeAttributes:{type:Object,default:function(){return{allowfullscreen:!0,frameborder:0,allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"}}},webp:{type:Boolean,default:!0},autoplay:{type:Boolean,default:!1},thumbnailListeners:{type:Object}},data:function(){return{activated:this.autoplay}},computed:{id:function(){var t=/^https:\/\/www\.youtube(?:-nocookie)?\.com\/embed\/(.+?)(?:\?.*)?$/.exec(this.src);return null!==t?t[1]:(this.warn("Failed to extract video id from "+this.src),"")},srcAttribute:function(){var t="string"==typeof this.src&&-1!==this.src.indexOf("?");return this.src+(t?"&":"?")+"autoplay=1"},styleObj:function(){return{paddingBottom:this.getPaddingBottom()}}},methods:{clickHandler:function(){this.activated=!0},getPaddingBottom:function(){var t=this.aspectRatio,e=this.$options.props.aspectRatio.default,i="Invalid value "+t+" supplied to `aspectRatio` property, instead fallback value "+e+" is used ";if("string"==typeof t){var a=t.split(":").map(Number),n=a[0],o=a[1];!0===isFinite(n)&&!0===isFinite(o)||(t=e,this.warn(i))}else t=e,this.warn(i);var r=t.split(":").map(Number),s=r[0],u=r[1];return this.getPaddingBottomValue(s,u)},getPaddingBottomValue:function(t,e){return e/t*100+"%"},warn:function(t){console.warn("[vue-lazy-youtube-video]: "+t)}},render:function(t){var e=this,a=this,n=a.alt,o=a.buttonLabel,r=a.previewImageSize,s=a.thumbnail,u=a.iframeAttributes,d=a.webp,l=a.activated,c=a.id,p=a.srcAttribute;return t("div",{staticClass:"y-video",on:{click:function(){return e.clickHandler()}}},[t("div",{staticClass:"y-video__inner",style:a.styleObj},[l?t("iframe",{staticClass:"y-video__media",attrs:i(i({},u),{src:p})}):[t("picture",{},[d?t("source",{attrs:{srcset:s&&s.webp||"https://i.ytimg.com/vi_webp/"+c+"/"+r+".webp",type:"image/webp"}}):null,t("img",{staticClass:"y-video__media y-video__media--type--img",attrs:{src:s&&s.jpg||"https://i.ytimg.com/vi/"+c+"/"+r+".jpg",alt:n},on:this.thumbnailListeners})]),this.$slots.button||t("button",{staticClass:"y-video__button",attrs:{type:"button","aria-label":o}},[this.$slots.icon||t("svg",{attrs:{viewBox:"0 0 68 48",width:"100%",height:"100%"}},[t("path",{staticClass:"y-video__button-shape",attrs:{d:"M66.5 7.7c-.8-2.9-2.5-5.4-5.4-6.2C55.8.1 34 0 34 0S12.2.1 6.9 1.6c-3 .7-4.6 3.2-5.4 6.1a89.6 89.6 0 0 0 0 32.5c.8 3 2.5 5.5 5.4 6.3C12.2 47.9 34 48 34 48s21.8-.1 27.1-1.6c3-.7 4.6-3.2 5.4-6.1C68 35 68 24 68 24s0-11-1.5-16.3z"}}),t("path",{staticClass:"y-video__button-icon",attrs:{d:"M45 24L27 14v20"}})])])]])])}}),o={install:function(t){t.component("LazyYoutubeVideo",n)}};t.Plugin=o,t.default=n,Object.defineProperty(t,"__esModule",{value:!0})}));
